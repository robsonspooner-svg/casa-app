# Casa Product Completeness Audit — From "Code Works" to "Product Works"

> **Purpose:** Claude has been building features that function correctly in isolation. This audit shifts the lens from "does the code execute without errors" to "does this app actually manage someone's property brilliantly." Every feature must be evaluated not as a standalone piece of code, but as part of a living workflow that a real landlord and real tenant depend on every day.

---

## The Mindset Shift

When Claude builds a document generation feature, it currently thinks:

✅ "The PDF generates correctly"
✅ "The function returns without errors"  
✅ "TypeScript compiles"

A product-complete feature thinks:

✅ The PDF generates correctly
✅ The generated PDF is automatically saved to the documents tab under the correct property
✅ The user can preview the document in-app without leaving the screen
✅ The user can give feedback to the AI to revise the document ("make the notice period 60 days instead of 30")
✅ The user can send the document directly to the tenant with one tap
✅ The tenant receives the document in their app AND via email
✅ The document appears in the tenant's documents tab linked to their tenancy
✅ The AI knows the document exists and can reference it in future conversations ("I sent Sarah the lease renewal on Tuesday — she hasn't responded yet, want me to follow up?")
✅ The document is versioned so previous drafts are accessible
✅ The action that triggered this document is logged and visible in the activity feed

That's the difference between code that works and a product that works. This audit identifies every gap of this kind across the entire application.

---

## How To Use This Prompt

Copy this entire file into a Claude Code conversation. It will produce a comprehensive report. Do NOT ask Claude to fix anything during this conversation — this session is audit only. Fixes come in subsequent focused sessions, one workflow at a time.

---

## THE PROMPT

```
Read CLAUDE.md, BRAND-AND-UI.md, and STEAD-BIBLE.md before starting.

I need you to perform a fundamentally different kind of audit. Previous audits 
checked whether code executes correctly. This audit checks whether the app 
actually works as a PRODUCT — from the perspective of a real landlord managing 
real properties and a real tenant living in one.

THE CORE PRINCIPLE:

Casa's value proposition is: "You tell the AI what you need, it handles 
everything, and both you and your tenant have a seamless experience."

This means:
1. The AI chat is the PRIMARY interface. Every action a user can do manually 
   should also be achievable (and ideally easier) through conversation with 
   Casa AI. The manual screens exist as dashboards and for users who prefer 
   direct control — but chat-first is the product vision.

2. Every feature must complete its FULL LIFECYCLE. A feature isn't done when 
   it creates something. It's done when the created thing is stored, viewable, 
   shareable, revisable, referenceable by the AI, and visible to every person 
   who needs to see it.

3. The owner app and tenant app are ONE SYSTEM. When something happens in one 
   app, the other app must reflect it instantly. A maintenance request submitted 
   by the tenant must appear in the owner's app. A document generated by the 
   owner must appear in the tenant's app. An inspection scheduled by the owner 
   must show in the tenant's calendar. These aren't separate apps — they're 
   two views of the same property management system.

4. The AI must be AWARE of everything. When the AI talks to the landlord, it 
   should know every document that exists, every maintenance request, every 
   payment, every upcoming date, every communication that's happened. When it 
   talks to the tenant, same thing from the tenant's perspective. The AI is 
   the connective tissue of the entire system.

---

PART 1: WORKFLOW LIFECYCLE AUDIT

For each of the following workflows, trace the COMPLETE lifecycle from trigger 
to resolution. For each step, report whether it's:
- WIRED: Works and connects to the next step
- PARTIAL: The step exists but doesn't connect to what comes next
- MISSING: The step doesn't exist at all

For PARTIAL and MISSING items, describe specifically what's needed.

WORKFLOW 1: MAINTENANCE REQUEST (most common workflow)

Full lifecycle:
a) Tenant opens tenant app → submits maintenance request with description 
   and photos → request saved to database
b) Owner receives push notification AND email: "New maintenance request at 
   42 Smith St — Leaking kitchen tap (urgent)"
c) Request appears in owner's maintenance list, flagged by urgency
d) Owner opens Casa AI chat and says "What maintenance requests are open?" 
   → AI lists them with context and recommendations
e) Owner says "Get quotes for the leaking tap" → AI drafts a message to 
   the owner's saved plumbers OR suggests finding a plumber
f) AI sends quote request to tradesperson(s) via email
g) Quotes come back → AI presents them with comparison and recommendation
h) Owner says "Approve the $180 quote from Dave's Plumbing" → AI confirms
i) AI notifies tenant: "A plumber has been booked for your leaking tap. 
   We'll update you with scheduling details."
j) Tenant sees status update in their maintenance request screen
k) Work is completed → owner (or trade) marks as complete with cost
l) AI notifies tenant: "The leaking tap has been fixed. Please let us 
   know if there are any issues."
m) Cost is recorded in the property's financial records
n) The complete maintenance record (request → quotes → approval → 
   completion → cost) is viewable as a timeline in both apps
o) AI can reference this in future: "Dave's Plumbing fixed the tap at 
   42 Smith St last month for $180 — want to use them again?"

Check EVERY step. Where does the chain break?

WORKFLOW 2: DOCUMENT GENERATION AND SHARING

Full lifecycle:
a) Owner asks AI: "Generate a lease renewal notice for Sarah at 42 Smith St"
b) AI generates the document as a PDF using property and tenancy data
c) Document is saved to the documents system under the correct property
d) Document appears in the owner's documents tab under that property
e) Owner can preview the document in-app (PDF viewer)
f) Owner can ask AI to revise: "Change the new rent to $620/week" → 
   AI regenerates, saves as new version, old version accessible
g) Owner says "Send this to Sarah" → AI sends via email AND the document 
   appears in Sarah's tenant app under her documents tab
h) Tenant receives push notification: "New document from your landlord"
i) Tenant can view the document in their app
j) AI tracks the document status: sent, viewed, acknowledged
k) AI can follow up: "Sarah hasn't viewed the lease renewal I sent 3 days 
   ago — want me to send a reminder?"
l) All generated documents are queryable by AI: "Show me all documents I've 
   sent to Sarah" or "What's the current lease for 42 Smith St?"

Check EVERY step. Where does the chain break?

WORKFLOW 3: RENT COLLECTION AND ARREARS

Full lifecycle:
a) Rent due date approaches → AI sends tenant reminder (3 days before, 
   1 day before, day of — configurable)
b) Payment received → recorded in system → receipt sent to tenant → 
   owner notified "Rent received for 42 Smith St - $580"
c) Payment NOT received by due date → arrears process begins
d) Day 1 overdue: AI sends friendly reminder to tenant
e) Day 3 overdue: AI escalates — second reminder, notifies owner
f) Day 7 overdue: AI drafts formal arrears notice for owner approval
g) Owner approves → notice sent to tenant via app AND email
h) Day 14+ overdue: AI recommends next steps based on state legislation
i) ALL of this visible in owner's arrears dashboard with clear timeline
j) ALL of this visible to tenant so they know where they stand
k) When tenant pays overdue amount → arrears automatically resolved → 
   both parties notified
l) Payment history accurately reflects late payments for future reference
m) AI can report: "Sarah has been late twice in 6 months — would you like 
   me to send a general reminder about payment terms?"

Check EVERY step. Where does the chain break?

WORKFLOW 4: INSPECTION LIFECYCLE

Full lifecycle:
a) AI proactively suggests: "Routine inspection due at 42 Smith St — 
   last one was 4 months ago. Want me to schedule one?"
b) Owner approves → AI checks state-mandated notice period (e.g., 7 days QLD)
c) AI sends notice to tenant with proposed date/time via app AND email
d) Tenant can confirm or request alternative time in their app
e) Date confirmed → appears in both owner and tenant's inspection list
f) Inspection day: Owner conducts inspection using the app's guided 
   inspection flow (room by room, take photos, rate condition)
g) Inspection report generated as PDF with photos and condition ratings
h) Report saved to documents under the property
i) Report shared with tenant in their app
j) If issues found: AI creates maintenance requests automatically 
   ("Mould found in bathroom — want me to schedule a cleaner?")
k) Inspection history viewable for the property showing condition over time
l) AI can compare: "Compared to the last inspection, the kitchen condition 
   has declined — here are the photos side by side"

Check EVERY step. Where does the chain break?

WORKFLOW 5: LEASE MANAGEMENT AND RENEWAL

Full lifecycle:
a) AI proactively alerts: "Sarah's lease at 42 Smith St expires in 90 days"
b) At 60 days: AI recommends action — renew, increase rent, or transition 
   to periodic. Provides market rent data if available.
c) Owner decides → AI generates appropriate notice/document (rent increase 
   notice, lease renewal offer, etc.)
d) Document sent to tenant (see Document workflow above)
e) Tenant responds (accept renewal, negotiate, give notice to leave)
f) If renewal: new lease generated, signed, old lease archived
g) If vacating: AI initiates vacancy workflow (exit inspection, bond 
   return, listing for new tenant)
h) All lease documents, notices, and communications logged and queryable
i) AI tracks all lease dates across all properties and proactively manages 
   the calendar: "You have 2 leases expiring in the next 90 days"

Check EVERY step. Where does the chain break?

WORKFLOW 6: TENANT ONBOARDING AND CONNECTION

Full lifecycle:
a) Owner adds property and tenant details in Casa
b) Owner says "Send Sarah an invitation to connect" → AI generates 
   connection code and sends invitation email with instructions
c) Tenant downloads Casa Tenant app → signs up → enters connection code
d) Tenant is now connected to their tenancy
e) Tenant can see: their lease details, rent schedule, property info, 
   landlord contact preferences, house rules, important documents
f) Tenant receives welcome message from AI introducing itself and 
   explaining what it can help with
g) All future communications flow through the system
h) Owner can see tenant's connection status: "Connected" / "Invited" / 
   "Not yet invited"

Check EVERY step. Where does the chain break?

WORKFLOW 7: FINANCIAL OVERVIEW AND REPORTING

Full lifecycle:
a) Owner asks: "How are my properties performing this month?"
b) AI provides summary: total income, total expenses, net per property, 
   occupancy rate, upcoming expenses
c) Owner can view real-time financial dashboard with charts
d) All income (rent) and expenses (maintenance, insurance, rates, etc.) 
   are tracked per property
e) Owner can add manual expenses (council rates, insurance, etc.)
f) End of financial year: AI generates tax summary report showing all 
   income and deductible expenses per property
g) Report exportable as PDF
h) AI can answer: "What did I spend on maintenance at 42 Smith St this 
   year?" or "Which property has the best yield?"

Check EVERY step. Where does the chain break?

---

PART 2: CROSS-APP COMMUNICATION AUDIT

For each of the following, verify the data flows correctly between 
owner and tenant apps in REAL TIME:

1. Owner creates/updates property details → tenant sees updated info
2. Owner generates and sends document → appears in tenant's documents
3. Tenant submits maintenance request → appears in owner's maintenance list 
   with push notification
4. Owner updates maintenance status → tenant sees the update
5. Owner schedules inspection → tenant receives notice and can respond
6. Rent payment recorded → both apps reflect the payment
7. Owner sends message via AI → tenant receives it in their messages
8. Tenant sends message → owner's AI is aware of it and can surface it
9. Arrears notice sent → tenant sees it in their app
10. Connection code flow: owner generates → tenant enters → both apps 
    reflect the connected status

For each: Is the data sync real-time (Supabase Realtime subscription), 
near-real-time (refresh on screen focus), or requires manual refresh? 
Which ones SHOULD be real-time but aren't?

---

PART 3: AI AWARENESS AUDIT

The AI agent (Casa) should be the omniscient coordinator of the entire 
system. Audit what the AI actually knows and can do:

1. LIST every agent tool in the tool registry. For each tool, answer:
   - Can the user trigger this action through conversation? (Y/N)
   - Does the tool's result get stored/logged for future reference? (Y/N)
   - Can the AI proactively use this tool without user prompting? (Y/N)
   - After the tool executes, does the AI confirm the result to the user? (Y/N)

2. LIST every screen/feature in the owner app. For each, answer:
   - Can the user accomplish this same task through AI chat? (Y/N)
   - If no, SHOULD they be able to? (Y/N, with reasoning)

3. LIST every proactive behaviour the AI currently has. For each:
   - What triggers it? (cron schedule, DB trigger, event)
   - What action does it take? (notification, message, task creation)
   - Does it actually work end-to-end right now? (Y/N)

4. CHECK: When the AI generates or creates something (document, message, 
   work order, etc.), does that creation appear in the relevant app 
   screen? Or does it only exist in the chat thread?

5. CHECK: Can the AI reference previous conversations and actions? 
   ("Last time you asked me about maintenance at 42 Smith St, I 
   recommended Dave's Plumbing — want me to contact them again?")

6. CHECK: Does the AI's system prompt accurately describe what it can 
   actually do? Are there capabilities listed that don't work? Are there 
   working capabilities not mentioned?

---

PART 4: USER GUIDANCE AND DISCOVERABILITY AUDIT

A new user should never feel lost or wonder "what can this app do?"

1. ONBOARDING: After completing setup, does the AI proactively introduce 
   itself and explain what it can help with? Does it offer to walk the 
   user through their first key actions? ("I notice you've added your 
   first property. Want me to help you set up rent tracking, or would 
   you like to invite your tenant to connect first?")

2. EMPTY STATES: Every empty screen should guide the user toward the 
   action that fills it. Check every list screen (properties, maintenance, 
   inspections, documents, etc.) — does the empty state explain what 
   the screen is for AND provide a clear CTA?

3. CONTEXTUAL AI SUGGESTIONS: On key screens, does the AI offer relevant 
   suggestions? For example:
   - Property detail → "Ask Casa to schedule an inspection" or "3 things 
     need attention on this property"
   - Maintenance list → "Casa found a plumber who can fix the tap — 
     approve quote?"
   - Financial dashboard → "Your expenses are 15% higher this quarter — 
     want me to break down why?"
   
4. TOAST/CONFIRMATION FEEDBACK: When the user completes an action (submits 
   form, approves action, sends document), is there clear visual feedback 
   that it worked? Or does the screen just silently update?

5. NAVIGATION FROM AI: When the AI mentions something in chat (a property, 
   a maintenance request, a document), can the user tap on it to navigate 
   directly to that item? Or is it just plain text?

---

PART 5: REPORT FORMAT

Structure your findings as follows:

## SECTION 1: WORKFLOW GAPS
For each workflow (1-7), list every broken or missing step as a specific 
actionable item. Group by priority:
- P0: The workflow is fundamentally broken (user hits dead end)
- P1: The workflow works but key steps are missing (user has to leave 
  the app or do manual work that the app should handle)
- P2: The workflow works but isn't connected to the rest of the system 
  (AI doesn't know about it, other app doesn't see it)

## SECTION 2: CROSS-APP GAPS
List every data flow that's broken or missing between owner and tenant apps.

## SECTION 3: AI CAPABILITY GAPS
List every action/feature that should be conversational but isn't, and 
every AI awareness gap.

## SECTION 4: GUIDANCE GAPS
List every place where the user would be confused, lost, or unaware of 
what they can do.

## SECTION 5: IMPLEMENTATION PLAN
Group all gaps into implementation sprints, ordered by impact:

Sprint 1: "The Chain" — Wire up the 3 most critical end-to-end workflows 
so they work completely from trigger to resolution across both apps. 
(Maintenance, Documents, Rent)

Sprint 2: "The Brain" — Make the AI aware of everything and able to drive 
every workflow through conversation. Every manual action gets a chat equivalent.

Sprint 3: "The Bridge" — Complete all cross-app data flows so the owner 
and tenant apps feel like one system.

Sprint 4: "The Guide" — Add contextual AI suggestions, smart empty states, 
navigation from chat, and user guidance throughout.

Sprint 5: "The Loop" — Complete remaining workflows (inspections, lease 
management, financials) with full lifecycle.

For each sprint, estimate the work in hours and list the specific files 
that need modification.

DO NOT FIX ANYTHING. AUDIT AND REPORT ONLY.
```

---

## After The Audit: Implementation Approach

Once you have the report, implement it ONE SPRINT AT A TIME in separate 
Claude Code conversations. Each sprint should be a focused session:

"Read the Product Completeness Audit report at [path]. We are implementing 
Sprint 1: The Chain. Complete every item listed in Sprint 1. For each item, 
implement the full solution — not just the minimum to make it work, but the 
complete user experience including storage, display, sharing, AI awareness, 
and cross-app visibility. Test each workflow end-to-end by tracing the code 
path from trigger through every step to resolution. Do not move to Sprint 2."

The key instruction to include in EVERY implementation session:

"For every feature you implement or modify, ask yourself these 5 questions 
before marking it complete:

1. WHERE DOES IT LIVE? — Is the output stored, filed under the correct 
   property, and visible in the relevant app screen(s)?
2. WHO NEEDS TO SEE IT? — Does every person who should know about this 
   (owner, tenant, AI) actually have access to it?
3. WHAT HAPPENS NEXT? — After this step completes, what's the natural 
   next action? Is the user guided toward it?
4. CAN THE AI DO THIS? — Can the user accomplish this same thing through 
   conversation with Casa AI? If not, add the capability.
5. CAN THE AI REFERENCE THIS LATER? — Will the AI know this happened and 
   be able to bring it up in future conversations?

If any answer is NO, the feature is not complete."
